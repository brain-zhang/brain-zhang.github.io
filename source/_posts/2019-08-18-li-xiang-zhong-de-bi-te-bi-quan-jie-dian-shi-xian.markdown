---
layout: post
title: "理想中的比特币全节点实现"
date: 2019-08-18 15:59:29 +0800
comments: true
categories: blockchain
---

虽然比特币已经运行十年，各式各样的比特币全节点实现已经很多了，但是我觉得还是有必要再增添一员；

我理想中的比特币全节点实现是这样的:

* 他的核心是模块化可拆分的
* 他的核心不包括挖矿和钱包，可以为这两个功能提供接口作为插件来实现，但是不要耦合到核心里面
* 他要实现BIP-157和BIP-158，不能为了导入一个新私钥就重新扫描一遍区块链
* 他要兼容Lightning，并实现其瞭望塔功能
* 交易存储最好用merkle-patricia-tree来实现，如此一来像ElectrumX这样的服务节点就可以去掉了
* 他必须原生支持所有的SPV钱包调用，并形成一个BIP规范
* 他必须可以是纯SPV，可以是全Block，也可以从一个checkpoint之后只存储需要的block
* 最后，他最好能运行在一台1Core 1G 1M的小VPS上面

我好像真贪心呢^_^
