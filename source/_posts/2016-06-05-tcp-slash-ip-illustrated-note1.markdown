---
layout: post
title: "TCP/IP Illustrated Note1"
date: 2016-06-05 21:59:52 +0800
comments: true
categories: TCP/IP network
---

又开始重读<TCP/IP详解>。发现真的是年纪大了....T_T，看了就忘，做笔记也用处不大。

打算每天读完一部分，在这里捡一些重要的地方记一下。

## ARP

习得技能:

* `tcpdump -e` 可以显示硬件层地址

## IP

重要提示:

* 传输之前需要把首部转换成网络字节序。注意，仅仅是首部就可以。

## ICMP

重要提示:

* 在对ICMP差错报文响应时，永远不会生成另一份ICMP差错报文

* 当发放一份ICMP差错报文时，始终包含IP首部和产生ICMP差错报文的IP数据包的前8个字节。这样就可以精准知道谁产生的ICMP差错

* ICMP的典型应用:

    * 掩码请求和应答 (大多数主机在收到请求后都会产生应答，而不是指定的主机应答，这其实是实现上的冗余)

    * 时间戳请求和应答

* 多宿主机发送报文给自己的某个接口，其实都是给回环地址的，这样产生的ICMP应答其实搞不明白原始报文发给哪个接口

## Ping

习得技能:

* `Ping -S` 每秒一个往返请求

* `Ping -R` 记录路由，但是有限制，最大只能存放9个IP地址，而且只记录路由出口
