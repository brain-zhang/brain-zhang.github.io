---
layout: post
title: "永远都算不准的指数PE"
date: 2019-05-12 10:49:33 +0800
comments: true
categories: life
---
看看一张2019-05-10的指数估值表:

![img](https://raw.githubusercontent.com/brain-zhang/brain-zhang.github.io/source/images/20190512/bg1.png)

> 数据来源：https://xueqiu.com/u/8890498724

大家肯定晕了，怎么这几家算出来的PE数据都不一样啊，个人计算的就罢了，怎么中证指数和Wind算的都不一样啊，究竟谁算得准啊？

PE是投资的重要指标因子，基础因子不准就做投资决策，犹如盲人骑瞎马，我们有必要好好弄明白为什么各家的PE算出来的值不一样！

<!-- more -->

## PE是什么？

PE，是市盈率（Price earnings ratio，即P/E ratio）的英文缩写。其定义是股价与每股收益的比率，也等价于总市值与净利润的比率。

最简单的理解，一家公司现在的股票总市值是10亿元，当年的净利润为1亿元，那么当年的PE就是`10/1=10`；

这么简单的算术题，为啥各路神仙还算不准？

## PE的几种计算方法

呵呵，股票市值很容易计算，但一家公司最难搞明白的就是当年净利润；试问大家去读公司年报，有几家公司能保证其中净利润是真实的准数呢？

更何况还有一个预测未来的问题，公司的股票市值天天变，财报有上一年的年报，当年季度报告，历史PE好算，当前PE如何计算呢？毕竟我们不能预测未来，在1月份就能预测当年整年的净利润；

为了解决这个算不准的问题，就有几种折中的计算方法：

#### 静态市盈率

静态市盈率又称市盈率LYR(Last Year Ratio)，是以上一年的净利润为分母计算出来的市盈率；上一年的净利润，直接找公司财报就好了，这个没什么可说的；

但是我们要注意一点，静态市盈率是典型的看后视镜开车；去年挣大钱不代表今年也能挣大钱，对不？如果看静态市盈率炒股，结果就是呵呵哒；


#### 滚动市盈率 TTM(Trailing Twelve Months)，

静态市盈率是后视镜，不实用，自然有人去改进，这就是滚动市盈率这项指标；

滚动市盈率和静态市盈率的区别在于，总利润以季报为参考，因为季报是每季度跟新一次，那样相比之前拿年报的总利润的算法，实时性更好一点；

比如我们在2019-05计算A公司的PE，那总利润就拿 2018年第二、第三、第四、以及2019年第一季度的季报利润总和相加，作为分母计算；

滚动市盈率实时性好，已经是当前最科学的估算方法了，大部分软件(比如雪球)就是这么计算的；但也有缺点，就是有的高速成长的公司，他前几个季度的成长是指数级的，但后面会越来越慢；而且有的公司为了PE数字好看，还会操纵利润；单看滚动市盈率炒股，最终结果还是呵呵哒；

#### 动态市盈率

滚动市盈率的计算方法已经比较严谨了；但是还有一些软件的提供商偷懒，因为计算滚动市盈率需要处理很多情况，比如公司刚上市、比如公司去年停牌了一个季度，比如公司去年财报实锤造假了，等等等等，好烦啊，所以他们计算利润的方法更简单粗暴：

比如现在是2019年5月份，那么我觉得你今年的利润就是 2019年第一季度的利润X4；到了9月份，我就取全年利润=半年财报利润X2

呵呵哒~~~~

#### 根据财报利润个人计算

设身处地想一下，我自己重仓了一支股票，发现连谁算的PE比较准都搞不明白，我岂不是每天惶惶然；于是我决定自己来算PE！

我拿来公司季报、半年报、年报仔细一看，乐了，基本上公司都会对未来的利润率有个预估，比如明年我预计全年净利润同比增长35%-45%；那么我保守一点，用去年35%的增长来预估你今年的利润，总可以了吧！

看看康美药业的年报吧! 呵呵哒~~~

## 指数PE的计算方法

单个公司的PE已然如此难算，那么指数呢？囊括几百家公司的指数PE怎么算呢？

#### 指数滚动市盈率加权计算方法

我们把整个指数囊括的公司看成一家公司，那么PE计算其实很简单，就是PE=总市值/总利润；

总市值就是指数中所有市值的相加，总理论就是所有利润的相加；当然单家公司的利润我们肯定要采用滚动市盈率(TTM)的计算方法；

这种相加的计算方法，也被称之为加权计算方法；

#### 指数滚动市盈率算术平均计算方法

加权计算方法简单明了，但是有的人觉得有问题，因为如果指数里面有100家公司，有家公司特别大，市盈率特别低，其他99家公司虽然市盈率很高，但采取加权统计一看，都被平均低了，这个计算方法就会失真；

为了解决这个问题，我们采取算术平均计算方法；比如这家特别大的公司PE是5，而其他99家公司PE都是20；那么我们就不看总市值和总利润了，直接:

(5 + 20 * 99) /100 = 19.85

这是算数平均计算方法，算数平均和加权计算的结果相比，可能相差万里；

#### 总市值统计？

A股市场上还有一个特殊现象，就是有些股票并不是全流通的，这个时候他的总市值是只计算流通股呢？还是全部都算呢？ 

总市值统计方法的不同，又会影响到最终PE的计算结果

#### 亏损公司的计算

如果一家公司亏损呢？还应该放到指数里面统计吗？

根据对亏损公司的处理方法的不同，又会影响到最终PE的计算结果

#### B股的折价计算

如果指数里面有的公司还有B股，那么B股的市值也要放进来计算吗？计算的时候如何设定权重？利润如何统计？

相对于B股的处理方法的不同，又会影响到最终PE的计算结果

#### A/H股的折价计算

如果指数里面有的公司还有H股，那么H股的市值也要放进来计算吗？计算的时候如何设定权重？利润如何统计？

相对于H股的处理方法的不同，又会影响到最终PE的计算结果

## 指数PE的历史估值计算

很多软件平台提供了PE/PB的历史估值计算，比如蛋卷基金会每天更新数值，告诉我们今天沪深300的PE估值处理历史百分位的xxx%；

如果你认真一点，就会发现所有平台的估值百分位都不一样！

PE的计算就如此五花八门，历史百分位当然不一样啦。

且慢，即使各大平台的PE计算都一样，历史估值百分位也可能不一样！为啥？

#### 统计时长的不同

一个指数，他的历史区间该如何选取呢？

从指数成立的那一天开始？

取前5年历史？前8年历史？前10年历史？

#### 估值统计算法的不同

算数平均 or 加权平均 or 中位数统计？

## 总结

所以有人说他算出了一个指数的PE，我们需要问他：

1. 个股采用的啥PE计算方法？ 静态PE？动态PE？滚动PE？ 动态取的是季报？半年报？年报？还是上一期年报/季报的预测值？
2. 指数是总市值加权计算还是算术平均计算？
3. 亏损公司怎么处理？
4. 停牌公司怎么处理？
5. B股怎么处理？
6. H股怎么处理？
7. 估值采用的历史数据时间段怎么取？前3年，5年，8年，成立以来? 成立之前还根据指数编制原则计算并统计进来了？
8. 指数百分比的估值算法是什么？加权统计？算数平均？中位数？


看了上面这么多干扰因子，相信你已经眼花缭乱了；而且每一种因子的处理方法都会引来无穷无尽的争论~~~

指数PE是永远也算不准的，那一个算不准的指标有啥好参考的？相信很快会有很多人跳出来说出各种理论~~~

无辜的摊手，我也不知道，呵呵哒。
