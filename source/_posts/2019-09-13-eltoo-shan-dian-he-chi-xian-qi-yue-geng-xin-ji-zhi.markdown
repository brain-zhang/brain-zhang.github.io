---
layout: post
title: "Eltoo-闪电和离线契约更新机制"
date: 2019-09-13 10:29:32 +0800
comments: true
categories: blockchain
---

在我们之前的文章中，对闪电网络的来龙去脉和原理做了详尽的分析；我们提出，相对于现在的传统支付技术，闪电网络技术有一个不可思议的跨越，用时髦一点的话来说，这是次世代的支付技术，假以时日，我相信它的未来不可限量；
{:.info}

闪电网络可以说是比特币二层网络技术的急先锋，它除了开拓比特币的支付愿景，还在很多层面对将来二层网络的发展提出了很多基础协议功能；这一切目前都收集在闪电网络基础技术规范，简称BOLT(Basis of Lightning Technology文档中；

https://github.com/lightningnetwork/lightning-rfc

<!-- more -->

仔细阅读BOLT就会发现，闪电网络并不是一个单一的协议，它是一整套协议，并且许多部分都被设计为可替代的；最典型的就是支付通道的部分；

为了保证支付通道双方不作弊，需要给作弊方施加足够的惩罚威慑，目前的支付通道采用的惩罚机制称为 "L2-penalty"机制；这是是JosephPoon和Thaddeus Dryja在原版Lightning Network白皮书中发明的协议;因此也被称为`Poon-Dryja通道`;

除了这种实现，其实还有另外一种双向支付通道协议，称为[双工小额支付渠道（DMC）]，由Decker和Wattenhofer [2015年]发明。Christian Decker是Blockstream的开发人员，后来blockstream将这个协议进一步完善，发展为Eltoo规范，并在2018年提出；

Eltoo简化了惩罚机制，效率更高，不仅能用于支付渠道当中，还有一个更广泛的应用，打开人任意多方(<7)在二层网络上实现智能合约的可能性；

这个原理讲起来脑洞很大，我读它的论文的时候又一次感叹: 还有这种操作？

看来比特币社区的技术发展已经远远走到了时代的前面，你不能说比特币的技术是老旧的，以目前的发展来看，比特币的底层架构之稳健，足够支持更多的未来黑科技运行在上面；


.......TODO 需要填坑


Eltoo的实施需要一个软分叉，需要现有的比特币主网支持名为`SIGHASH_NOINPUT`的操作符，结合Schnorr 签名技术，将来会实现许多非常有意思的功能；


最后再强调一遍，闪电网络不仅仅是一个支付的技术，他为比特币二层网络的各种应用构建提供了基础，相信在未来，会出现很多神奇的应用，有多神奇我无法想象；但这个技术绝不是一时的噱头，现在种种迹象表明，它会为比特币开启下一个十年；


引用资料:

https://blockstream.com/2018/04/30/en-eltoo-next-lightning/

https://blockstream.com/eltoo.pdf
